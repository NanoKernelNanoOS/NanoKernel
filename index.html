<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano OS - Lightweight Operating System</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600&display=swap">
    <style>
        :root {
            --primary: #0066ff;
            --primary-dark: #0052cc;
            --secondary: #2e3440;
            --accent: #88c0d0;
            --background: #f8fafc;
            --card-bg: #ffffff;
            --text: #2e3440;
            --text-light: #4c566a;
            --border: #e5e9f0;
            --success: #5e81ac;
            --warning: #d08770;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: var(--secondary);
            color: white;
            padding: 2rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2rem;
            color: var(--accent);
        }

        .logo-text {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            font-size: 1.8rem;
        }

        .logo-text span {
            color: var(--accent);
        }

        nav {
            display: flex;
            gap: 10px;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        .nav-btn {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .hero {
            background: linear-gradient(135deg, var(--secondary) 0%, #3b4252 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .download-btn {
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        }

        .download-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
        }

        .main-content {
            padding: 4rem 0;
        }

        .section-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: var(--secondary);
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: "";
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--accent);
        }

        .content-section {
            display: none;
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
        }

        .active-section {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .download-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 3rem;
        }

        .download-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .download-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .download-card h3 {
            font-family: 'JetBrains Mono', monospace;
            margin-top: 0;
            color: var(--secondary);
            font-size: 1.3rem;
        }

        .version-badge {
            display: inline-block;
            padding: 3px 8px;
            background-color: var(--accent);
            color: white;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
            vertical-align: middle;
        }

        .download-card p {
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .card-btn {
            background-color: var(--primary);
            color: white;
            width: 100%;
            text-align: center;
            padding: 10px;
            border-radius: 6px;
        }

        .card-btn:hover {
            background-color: var(--primary-dark);
        }

        .download-count {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .download-count::before {
            content: "â†“";
            font-size: 1rem;
        }

        .terminal-window {
            background-color: var(--secondary);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            font-family: 'JetBrains Mono', monospace;
            color: #d8dee9;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .terminal-header {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }

        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-btn.red { background-color: #bf616a; }
        .terminal-btn.yellow { background-color: #ebcb8b; }
        .terminal-btn.green { background-color: #a3be8c; }

        .terminal-body {
            line-height: 1.5;
        }

        .terminal-prompt {
            color: #88c0d0;
        }

        .terminal-command {
            color: #d8dee9;
            font-weight: bold;
        }

        .terminal-output {
            color: #81a1c1;
        }

        footer {
            background-color: var(--secondary);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 4rem;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .footer-links {
            display: flex;
            gap: 20px;
            margin-bottom: 1rem;
        }

        .footer-link {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: white;
        }

        .copyright {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* Notification toggle styles */
        .notification-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid var(--border);
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.5s ease 1s forwards;
        }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .notification-bell {
            font-size: 1.2rem;
            color: var(--primary);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .notification-label {
            font-size: 0.9rem;
            color: var(--text);
        }

        /* Forum Styles */
        .auth-form {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--border);
            background-color: var(--card-bg);
            color: var(--text);
            font-family: 'Inter', sans-serif;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .auth-switch {
            text-align: center;
            margin-top: 1rem;
            color: var(--text-light);
        }

        .auth-switch a {
            color: var(--primary);
            text-decoration: none;
        }

        .forum-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .post {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.5rem;
        }

        .post-author {
            font-weight: 600;
            color: var(--primary);
        }

        .post-date {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .post-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--secondary);
            font-family: 'JetBrains Mono', monospace;
        }

        .post-content {
            color: var(--text);
            margin-bottom: 1rem;
        }

        .post-actions {
            display: flex;
            gap: 10px;
        }

        .post-actions button {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .post-actions button:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .admin-section {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
        }

        .admin-list-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid var(--border);
            align-items: center;
        }

        .admin-list-item:last-child {
            border-bottom: none;
        }

        .admin-actions {
            display: flex;
            gap: 10px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            nav {
                width: 100%;
                justify-content: center;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .download-section {
                grid-template-columns: 1fr;
            }

            .notification-container {
                left: 20px;
                right: 20px;
                width: calc(100% - 40px);
                justify-content: center;
            }
        }

        /* Dark mode toggle (optional) */
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            color: var(--text);
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">âš¡</div>
                <div class="logo-text">Nano<span>OS</span></div>
            </div>
            <nav>
                <a href="#" class="btn nav-btn" onclick="showSection('news-content'); return false;">News</a>
                <a href="#" class="btn nav-btn" onclick="showSection('docs-content'); return false;">Docs</a>
                <a href="#" class="btn nav-btn" onclick="showSection('privacy-content'); return false;">Privacy</a>
                <a href="#" class="btn nav-btn" onclick="showSection('forum-content'); return false;">Forum</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Lightweight. Fast. Secure.</h1>
            <p>The Nano OS kernel is designed for efficiency and performance, providing a minimal yet powerful foundation for your computing needs.</p>
            <a href="#downloads" class="btn download-btn">Download Now</a>
        </div>
    </section>

    <main class="main-content container">
        <div id="news-content" class="content-section active-section">
            <h2 class="section-title">Latest Updates</h2>
            <p>Global update 0.0.3 brought a complete update of graphics. A cool greeting with a cat was added, and before entering a command now not >, but nano@os</p>

            <div class="terminal-window">
                <div class="terminal-header">
                    <div class="terminal-btn red"></div>
                    <div class="terminal-btn yellow"></div>
                    <div class="terminal-btn green"></div>
                </div>
                <div class="terminal-body">
                    <div><span class="terminal-prompt">nano@os</span> <span class="terminal-command">version</span></div>
                    <div class="terminal-output">Nano OS Kernel v0.0.3</div>
                    <div><span class="terminal-prompt">nano@os</span> <span class="terminal-command">help</span></div>
                    <div class="terminal-output">Available commands: version, help, time, files, clear</div>
                </div>
            </div>
        </div>

        <div id="docs-content" class="content-section">
            <h2 class="section-title">Documentation</h2>
            <div class="terminal-window">
                <div class="terminal-header">
                    <div class="terminal-btn red"></div>
                    <div class="terminal-btn yellow"></div>
                    <div class="terminal-btn green"></div>
                </div>
                <div class="terminal-body">
                    <div class="terminal-output">Nano OS Kernel Changelog</div>
                    <div class="terminal-output">--------------------------------</div>
                    <div class="terminal-output">0001 - 25062025</div>
                    <div class="terminal-output">The very first kernel version. The letters A and T stand for Alpha Test.</div>
                    <div class="terminal-output">There was a basic file system and commands.</div>
                    <div class="terminal-output">--------------------------------</div>
                    <div class="terminal-output">0010 - 0.0.1bt</div>
                    <div class="terminal-output">The very first beta test of the kernel</div>
                    <div class="terminal-output">The time command was added</div>
                    <div class="terminal-output">--------------------------------</div>
                    <div class="terminal-output">0011 - 0.0.2</div>
                    <div class="terminal-output">Full version of adra. There is a small functionality.</div>
                    <div class="terminal-output">Many new commands were added</div>
                </div>
            </div>
        </div>

        <div id="privacy-content" class="content-section">
            <h2 class="section-title">Privacy Policy</h2>
            <div style="background-color: var(--card-bg); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                <h3>Nano Kernel & Nano OS Privacy Policy</h3>
                <p><strong>Last Updated:</strong> June 25, 2025</p>

                <h4>1. Introduction</h4>
                <p>Company Nano Kernel (hereinafter â€” "We", "Our", "Nano") respects your privacy and is committed to protecting your personal data. This Privacy Policy explains how we collect, use, store and protect information when using our website, Nano Kernel and Nano OS operating system.</p>

                <h4>2. What data do we collect?</h4>
                <p>Depending on your interaction with our products, we may collect the following data:</p>
                <ul>
                    <li><strong>Personal data:</strong> Name, email, contact details (if you register or leave a request). Login data (if authentication is required).</li>
                    <li><strong>Technical data:</strong> IP address, browser type, OS version, hardware data (for analytics and performance improvement). System logs (in case of errors or debugging).</li>
                    <li><strong>Anonymous data:</strong> Usage statistics (without user identification).</li>
                </ul>

                <h4>3. How we use your data</h4>
                <ul>
                    <li>To provide and improve Nano Kernel and Nano OS.</li>
                    <li>To respond to requests and provide technical support.</li>
                    <li>For performance analysis and bug fixes.</li>
                    <li>To send updates (if you are subscribed).</li>
                </ul>

                <h4>4. Data sharing</h4>
                <p>We do not sell or transfer your personal data to third parties, except:</p>
                <ul>
                    <li>Partners necessary for the operation of services (hosting, analytics).</li>
                    <li>When required by law (court orders).</li>
                </ul>
            </div>
        </div>

        <div id="forum-content" class="content-section">
            <h2 class="section-title">Nano OS Forum</h2>
            
            <div id="forum-auth-container">
                <div class="auth-form" id="login-form">
                    <h3>Login</h3>
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <button class="btn card-btn" onclick="loginUser()">Login</button>
                    <p class="auth-switch">Don't have an account? <a href="#" onclick="showRegisterForm(); return false;">Register</a></p>
                </div>

                <div class="auth-form" id="register-form" style="display: none;">
                    <h3>Register</h3>
                    <div class="form-group">
                        <label for="register-username">Username</label>
                        <input type="text" id="register-username" placeholder="nano_user">
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <button class="btn card-btn" onclick="registerUser()">Register</button>
                    <p class="auth-switch">Already have an account? <a href="#" onclick="showLoginForm(); return false;">Login</a></p>
                </div>
            </div>

            <div id="forum-main" style="display: none;">
                <div class="forum-controls">
                    <button class="btn nav-btn" onclick="showCreatePostForm()">Create Post</button>
                    <button class="btn nav-btn" id="admin-btn" style="display: none;" onclick="showAdminPanel()">Admin Panel</button>
                    <button class="btn nav-btn" onclick="logoutUser()">Logout</button>
                </div>

                <div id="create-post-form" style="display: none; margin-bottom: 2rem;">
                    <div class="form-group">
                        <label for="post-title">Title</label>
                        <input type="text" id="post-title" placeholder="Post title">
                    </div>
                    <div class="form-group">
                        <label for="post-content">Content</label>
                        <textarea id="post-content" rows="5" placeholder="Write your post here..."></textarea>
                    </div>
                    <button class="btn card-btn" onclick="createPost()">Submit Post</button>
                </div>

                <div id="posts-container">
                    <!-- Posts will be loaded here -->
                </div>
            </div>

            <div id="admin-panel" style="display: none;">
                <h3>Admin Panel</h3>
                <div class="admin-section">
                    <h4>Manage Posts</h4>
                    <div id="admin-posts-list"></div>
                </div>
                <div class="admin-section">
                    <h4>Manage Users</h4>
                    <div id="admin-users-list"></div>
                </div>
                <button class="btn nav-btn" onclick="hideAdminPanel()">Back to Forum</button>
            </div>
        </div>

        <h2 class="section-title" id="downloads">Download Nano OS</h2>
        <p>Choose your version below to get started with Nano OS.</p>

        <div class="download-section">
            <div class="download-card">
                <h3>Stable Release <span class="version-badge">0.0.3</span></h3>
                <p>The latest stable version with improved graphics and new command prompt.</p>
                <a href="https://drive.google.com/file/d/1G1G5jyXoMA7HV0roCXCyt-eM_yHjvSJj/view?usp=sharing" class="btn card-btn" onclick="trackDownload('ver1')">Download</a>
                <div class="download-count" id="count1">Loading downloads...</div>
            </div>

            <div class="download-card">
                <h3>Previous Version <span class="version-badge">0.0.2</span></h3>
                <p>Full version of adra with small functionality and many new commands.</p>
                <a href="https://drive.google.com/file/d/1z9QRclQrTu2SZS86EU9OgJEVVupe3s9R/view?usp=sharing" class="btn card-btn" onclick="trackDownload('ver2')">Download</a>
                <div class="download-count" id="count2">Loading downloads...</div>
            </div>

            <div class="download-card">
                <h3>Beta Test <span class="version-badge">0.0.1bt</span></h3>
                <p>The first beta test version with time command functionality.</p>
                <a href="https://drive.google.com/file/d/1z9QRclQrTu2SZS86EU9OgJEVVupe3s9R/view?usp=sharing" class="btn card-btn" onclick="trackDownload('ver3')">Download</a>
                <div class="download-count" id="count3">Loading downloads...</div>
            </div>

            <div class="download-card">
                <h3>Alpha Release <span class="version-badge">25062025</span></h3>
                <p>The very first alpha version with basic file system and commands.</p>
                <a href="https://drive.google.com/file/d/181wh_0UOtjrKPdle4niSDDtNu1E38G4e/view?usp=sharing" class="btn card-btn" onclick="trackDownload('ver4')">Download</a>
                <div class="download-count" id="count4">Loading downloads...</div>
            </div>
        </div>
    </main>

    <!-- Notification Toggle -->
    <div class="notification-container">
        <span class="notification-bell">ðŸ””</span>
        <label class="switch">
            <input type="checkbox" id="notificationToggle">
            <span class="slider"></span>
        </label>
        <span class="notification-label">Enable Update Notifications</span>
    </div>

    <footer>
        <div class="container footer-content">
            <div class="logo">
                <div class="logo-icon">âš¡</div>
                <div class="logo-text">Nano<span>OS</span></div>
            </div>
            <div class="footer-links">
                <a href="#" class="footer-link" onclick="showSection('news-content'); return false;">News</a>
                <a href="#" class="footer-link" onclick="showSection('docs-content'); return false;">Documentation</a>
                <a href="#" class="footer-link" onclick="showSection('privacy-content'); return false;">Privacy</a>
                <a href="#" class="footer-link" onclick="showSection('forum-content'); return false;">Forum</a>
            </div>
            <div class="copyright">The Nano OS Kernel Â©2025 All Rights Reserved</div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>

    <script>
        // Firebase initialization
        const firebaseConfig = {
            apiKey: "AIzaSyCu5jtb_u7H13Fl0OzGjp68jrBoUwIhfgI",
            authDomain: "nano-e1f63.firebaseapp.com",
            databaseURL: "https://nano-e1f63-default-rtdb.firebaseio.com",
            projectId: "nano-e1f63",
            storageBucket: "nano-e1f63.firebasestorage.app",
            messagingSenderId: "904182892074",
            appId: "1:904182892074:web:baed54b3dc97b1e7c16553"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Show selected section
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active-section');
            });

            // Show selected section
            document.getElementById(sectionId).classList.add('active-section');

            // Smooth scroll to section
            if (sectionId === 'news-content') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Track downloads
        function trackDownload(version) {
            const ref = database.ref('downloadCounts/' + version);
            ref.transaction(currentCount => {
                return (currentCount || 0) + 1;
            });

            // Show download confirmation
            if (Notification.permission === 'granted' && localStorage.getItem('notificationsEnabled') === 'true') {
                new Notification('Download Started', {
                    body: 'Your download of Nano OS has begun. Thank you for choosing our OS!',
                    icon: 'https://via.placeholder.com/64'
                });
            }

            return true;
        }

        // Load download counts
        function loadDownloadCounts() {
            const versions = [
                {id: 'ver1', countElement: 'count1'}, // 0.0.3
                {id: 'ver2', countElement: 'count2'}, // 0.0.2
                {id: 'ver3', countElement: 'count3'}, // 0.0.1bt
                {id: 'ver4', countElement: 'count4'}  // 25062025
            ];

            versions.forEach(item => {
                database.ref('downloadCounts/' + item.id).on('value', snapshot => {
                    const count = snapshot.val() || 0;
                    document.getElementById(item.countElement).textContent = `${count.toLocaleString()} downloads`;
                });
            });
        }

        // Notification functionality
        function setupNotifications() {
            const toggle = document.getElementById('notificationToggle');

            // Check if notifications are supported
            if (!('Notification' in window)) {
                toggle.disabled = true;
                document.querySelector('.notification-label').textContent = 'Notifications not supported';
                return;
            }

            // Check current permission state
            if (Notification.permission === 'denied') {
                toggle.disabled = true;
                document.querySelector('.notification-label').textContent = 'Notifications blocked';
                return;
            }

            // Load saved preference
            const notificationsEnabled = localStorage.getItem('notificationsEnabled') === 'true';
            toggle.checked = notificationsEnabled;

            // Set up toggle handler
            toggle.addEventListener('change', function() {
                if (this.checked) {
                    // Request permission if not already granted
                    if (Notification.permission !== 'granted') {
                        Notification.requestPermission().then(permission => {
                            if (permission === 'granted') {
                                localStorage.setItem('notificationsEnabled', 'true');
                                showWelcomeNotification();
                                listenForNewsUpdates();
                            } else {
                                this.checked = false;
                            }
                        });
                    } else {
                        localStorage.setItem('notificationsEnabled', 'true');
                        showWelcomeNotification();
                        listenForNewsUpdates();
                    }
                } else {
                    localStorage.setItem('notificationsEnabled', 'false');
                }
            });

            // If notifications are enabled, listen for news updates
            if (notificationsEnabled) {
                listenForNewsUpdates();
            }
        }

        function showWelcomeNotification() {
            if (Notification.permission === 'granted') {
                new Notification('Nano OS Notifications Enabled', {
                    body: 'You will now receive updates about new releases and important news.',
                    icon: 'https://via.placeholder.com/64'
                });
            }
        }

        function listenForNewsUpdates() {
            // In a real implementation, you would listen to Firebase for news updates
            // For now, we'll just simulate it with a timeout
            setTimeout(() => {
                if (localStorage.getItem('notificationsEnabled') === 'true' && Notification.permission === 'granted') {
                    new Notification('New Nano OS Update Available', {
                        body: 'Version 0.0.3 is now available with improved graphics and new features!',
                        icon: 'https://via.placeholder.com/64'
                    });
                }
            }, 15000);
        }

        // Forum functionality
        let currentUser = null;

        function showLoginForm() {
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('register-form').style.display = 'none';
        }

        function showRegisterForm() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('register-form').style.display = 'block';
        }

        function loginUser() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            database.ref('users').orderByChild('email').equalTo(email).once('value', snapshot => {
                const users = snapshot.val();
                if (!users) {
                    alert('User not found');
                    return;
                }
                
                const userId = Object.keys(users)[0];
                const user = users[userId];
                
                if (user.password !== password) { // In real app, use proper password hashing
                    alert('Incorrect password');
                    return;
                }
                
                if (user.isBanned) {
                    alert('This account has been banned');
                    return;
                }
                
                currentUser = {
                    id: userId,
                    ...user
                };
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                document.getElementById('forum-auth-container').style.display = 'none';
                document.getElementById('forum-main').style.display = 'block';
                
                if (currentUser.isAdmin) {
                    document.getElementById('admin-btn').style.display = 'block';
                }
                
                loadPosts();
            });
        }

        function registerUser() {
            const username = document.getElementById('register-username').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            
            if (!username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }
            
            if (!email.includes('@') || !email.includes('.')) {
                alert('Please enter a valid email address');
                return;
            }
            
            database.ref('users').orderByChild('email').equalTo(email).once('value', snapshot => {
                if (snapshot.exists()) {
                    alert('Email already registered');
                    return;
                }
                
                const newUserRef = database.ref('users').push();
                newUserRef.set({
                    username,
                    email,
                    password, // In real app, hash this password
                    isAdmin: false,
                    isBanned: false,
                    createdAt: firebase.database.ServerValue.TIMESTAMP
                }).then(() => {
                    alert('Registration successful! Please login.');
                    showLoginForm();
                    document.getElementById('register-username').value = '';
                    document.getElementById('register-email').value = '';
                    document.getElementById('register-password').value = '';
                });
            });
        }

        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            document.getElementById('forum-auth-container').style.display = 'block';
            document.getElementById('forum-main').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('login-email').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('admin-btn').style.display = 'none';
            showLoginForm();
        }

        function showCreatePostForm() {
            document.getElementById('create-post-form').style.display = 'block';
            document.getElementById('post-title').value = '';
            document.getElementById('post-content').value = '';
            
            // Make sure the button is set to create post, not update
            const form = document.getElementById('create-post-form');
            const oldButton = form.querySelector('button');
            const newButton = document.createElement('button');
            newButton.className = 'btn card-btn';
            newButton.textContent = 'Submit Post';
            newButton.onclick = function() {
                createPost();
            };
            if (oldButton.textContent !== 'Submit Post') {
                form.replaceChild(newButton, oldButton);
            }
            
            window.scrollTo({
                top: document.getElementById('create-post-form').offsetTop - 20,
                behavior: 'smooth'
            });
        }

        function createPost() {
            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            
            if (!title || !content) {
                alert('Please fill in all fields');
                return;
            }
            
            if (title.length > 100) {
                alert('Title must be less than 100 characters');
                return;
            }
            
            if (content.length > 2000) {
                alert('Content must be less than 2000 characters');
                return;
            }
            
            database.ref('posts').push().set({
                title,
                content,
                authorId: currentUser.id,
                authorName: currentUser.username,
                createdAt: firebase.database.ServerValue.TIMESTAMP,
                updatedAt: firebase.database.ServerValue.TIMESTAMP
            }).then(() => {
                document.getElementById('post-title').value = '';
                document.getElementById('post-content').value = '';
                document.getElementById('create-post-form').style.display = 'none';
                loadPosts();
            });
        }

        function loadPosts() {
            database.ref('posts').orderByChild('createdAt').once('value', snapshot => {
                const posts = snapshot.val();
                const postsContainer = document.getElementById('posts-container');
                postsContainer.innerHTML = '';
                
                if (!posts) {
                    postsContainer.innerHTML = '<p>No posts yet. Be the first to post!</p>';
                    return;
                }
                
                const postsArray = Object.entries(posts).map(([id, post]) => ({ id, ...post }));
                postsArray.reverse(); // Show newest first
                
                postsArray.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'post';
                    postElement.innerHTML = `
                        <div class="post-header">
                            <span class="post-author">${post.authorName}</span>
                            <span class="post-date">${new Date(post.createdAt).toLocaleString()}</span>
                        </div>
                        <h3 class="post-title">${post.title}</h3>
                        <div class="post-content">${post.content.replace(/\n/g, '<br>')}</div>
                        ${currentUser && (currentUser.id === post.authorId || currentUser.isAdmin) ? `
                        <div class="post-actions">
                            ${currentUser.id === post.authorId ? `<button onclick="editPost('${post.id}')">Edit</button>` : ''}
                            <button onclick="deletePost('${post.id}')">Delete</button>
                        </div>
                        ` : ''}
                    `;
                    postsContainer.appendChild(postElement);
                });
            });
        }

        function deletePost(postId) {
            if (!confirm('Are you sure you want to delete this post?')) return;
            
            database.ref('posts/' + postId).remove().then(() => {
                loadPosts();
                if (document.getElementById('admin-panel').style.display === 'block') {
                    loadAdminPosts();
                }
            });
        }

        function editPost(postId) {
            database.ref('posts/' + postId).once('value', snapshot => {
                const post = snapshot.val();
                document.getElementById('post-title').value = post.title;
                document.getElementById('post-content').value = post.content;
                document.getElementById('create-post-form').style.display = 'block';
                
                // Replace submit button with update button
                const form = document.getElementById('create-post-form');
                const oldButton = form.querySelector('button');
                const newButton = document.createElement('button');
                newButton.className = 'btn card-btn';
                newButton.textContent = 'Update Post';
                newButton.onclick = function() {
                    updatePost(postId);
                };
                form.replaceChild(newButton, oldButton);
                
                window.scrollTo({
                    top: form.offsetTop - 20,
                    behavior: 'smooth'
                });
            });
        }

        function updatePost(postId) {
            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            
            if (!title || !content) {
                alert('Please fill in all fields');
                return;
            }
            
            database.ref('posts/' + postId).update({
                title,
                content,
                updatedAt: firebase.database.ServerValue.TIMESTAMP
            }).then(() => {
                document.getElementById('post-title').value = '';
                document.getElementById('post-content').value = '';
                document.getElementById('create-post-form').style.display = 'none';
                loadPosts();
            });
        }

        function showAdminPanel() {
            document.getElementById('forum-main').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'block';
            loadAdminPosts();
            loadAdminUsers();
        }

        function hideAdminPanel() {
            document.getElementById('forum-main').style.display = 'block';
            document.getElementById('admin-panel').style.display = 'none';
        }

        function loadAdminPosts() {
            database.ref('posts').orderByChild('createdAt').once('value', snapshot => {
                const posts = snapshot.val();
                const postsList = document.getElementById('admin-posts-list');
                postsList.innerHTML = '';
                
                if (!posts) {
                    postsList.innerHTML = '<p>No posts yet.</p>';
                    return;
                }
                
                const postsArray = Object.entries(posts).map(([id, post]) => ({ id, ...post }));
                postsArray.reverse(); // Show newest first
                
                postsArray.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'admin-list-item';
                    postElement.innerHTML = `
                        <div>
                            <strong>${post.title}</strong> by ${post.authorName}
                            <div style="font-size: 0.8rem; color: var(--text-light);">${new Date(post.createdAt).toLocaleString()}</div>
                        </div>
                        <div class="admin-actions">
                            <button class="btn nav-btn" style="padding: 5px 10px;" onclick="deletePost('${post.id}')">Delete</button>
                        </div>
                    `;
                    postsList.appendChild(postElement);
                });
            });
        }

        function loadAdminUsers() {
            database.ref('users').once('value', snapshot => {
                const users = snapshot.val();
                const usersList = document.getElementById('admin-users-list');
                usersList.innerHTML = '';
                
                if (!users) {
                    usersList.innerHTML = '<p>No users yet.</p>';
                    return;
                }
                
                Object.entries(users).forEach(([id, user]) => {
                    const userElement = document.createElement('div');
                    userElement.className = 'admin-list-item';
                    userElement.innerHTML = `
                        <div>
                            <strong>${user.username}</strong> (${user.email})
                            <div style="font-size: 0.8rem; color: var(--text-light);">
                                ${user.isAdmin ? 'Admin' : 'User'} â€¢ 
                                ${user.isBanned ? 'Banned' : 'Active'} â€¢ 
                                Joined: ${new Date(user.createdAt).toLocaleDateString()}
                            </div>
                        </div>
                        <div class="admin-actions">
                            ${!user.isAdmin ? `
                                <button class="btn nav-btn" style="padding: 5px 10px;" onclick="toggleUserBan('${id}', ${user.isBanned || false})">
                                    ${user.isBanned ? 'Unban' : 'Ban'}
                                </button>
                            ` : ''}
                            ${!user.isAdmin ? `
                                <button class="btn nav-btn" style="padding: 5px 10px;" onclick="deleteUser('${id}')">Delete</button>
                            ` : ''}
                        </div>
                    `;
                    usersList.appendChild(userElement);
                });
            });
        }

        function toggleUserBan(userId, isCurrentlyBanned) {
            database.ref('users/' + userId).update({
                isBanned: !isCurrentlyBanned
            }).then(() => {
                loadAdminUsers();
                
                // If the banned user is current user, log them out
                if (currentUser && currentUser.id === userId && !isCurrentlyBanned) {
                    alert('Your account has been banned');
                    logoutUser();
                }
            });
        }

        function deleteUser(userId) {
            if (!confirm('Are you sure you want to delete this user? This will also delete all their posts.')) return;
            
            // First delete user's posts
            database.ref('posts').orderByChild('authorId').equalTo(userId).once('value', snapshot => {
                const posts = snapshot.val();
                if (posts) {
                    Object.keys(posts).forEach(postId => {
                        database.ref('posts/' + postId).remove();
                    });
                }
                
                // Then delete the user
                database.ref('users/' + userId).remove().then(() => {
                    loadAdminUsers();
                    if (currentUser && currentUser.id === userId) {
                        logoutUser();
                    }
                });
            });
        }

        // Admin login (for initial setup)
        function setupAdminAccount() {
            // This is just for demo purposes - in production, you would create this manually
            const adminEmail = 'admin@nano.os';
            const adminPassword = 'NanoOSAdmin2025!'; // In production, use a strong password
            
            database.ref('users').orderByChild('email').equalTo(adminEmail).once('value', snapshot => {
                if (!snapshot.exists()) {
                    database.ref('users').push().set({
                        username: 'admin',
                        email: adminEmail,
                        password: adminPassword, // In real app, hash this password
                        isAdmin: true,
                        isBanned: false,
                        createdAt: firebase.database.ServerValue.TIMESTAMP
                    }).then(() => {
                        console.log('Admin account created');
                    });
                }
            });
        }

        // Check if user is logged in on page load
        function checkAuthState() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('forum-auth-container').style.display = 'none';
                document.getElementById('forum-main').style.display = 'block';
                
                if (currentUser.isAdmin) {
                    document.getElementById('admin-btn').style.display = 'block';
                }
                
                loadPosts();
            }
        }

        // Initialize everything when the page loads
        window.onload = function() {
            loadDownloadCounts();
            setupNotifications();
            checkAuthState();

            // Add animation to download cards
            const cards = document.querySelectorAll('.download-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });

            // Uncomment this line to create the admin account (then remove it after first run)
            // setupAdminAccount();
        };
    </script>
</body>
</html>
