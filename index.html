<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano OS</title>
    <style>
        body {
            font-family: monospace;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f6f6f6;
            color: #333;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .download-section {
            text-align: center;
            margin-top: 50px;
        }
        .download-btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: #555;
            color: white;
            text-decoration: none;
            margin: 5px;
            border-radius: 3px;
        }
        .download-btn:hover {
            background-color: #333;
        }
        .docs-btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: #777;
            color: white;
            text-decoration: none;
            margin: 5px;
            border-radius: 3px;
        }
        .docs-btn:hover {
            background-color: #555;
        }
        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9em;
            color: #666;
        }
        .download-count {
            font-size: 0.8em;
            color: #666;
            margin-top: 5px;
        }
        #docs-content {
            display: none;
            margin: 20px 0;
            padding: 15px;
            background-color: #eee;
            border-radius: 5px;
        }
    </style>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
</head>
<body>
    <header>
        <h1>Nano OS</h1>
        <a href="#docs" class="docs-btn" onclick="showDocs()">Documentation</a>
    </header>

    <main>
        <p>Welcome to the Nano OS Kernel</p>

        <div id="docs-content">
            0001 - 25062025
            The very first kernel version. The letters A and T stand for Alpha Test. There was a basic file system and commands.
            0010 - 0.0.1bt
            The very first beta test of the kernel The time command was added
            0011 - 0.0.2
            full version of adra There is a small functionality Many new commands were added
        </div>

        <div class="download-section">
            <p>25062025</p>
            <a href="https://drive.google.com/file/d/181wh_0UOtjrKPdle4niSDDtNu1E38G4e/view?usp=sharing" class="download-btn" onclick="trackDownload('ver1')">Download</a>
            <div class="download-count" id="count1">Loading downloads...</div>

            <p>0.0.1bt</p>
            <a href="https://drive.google.com/file/d/1z9QRclQrTu2SZS86EU9OgJEVVupe3s9R/view?usp=sharing" class="download-btn" onclick="trackDownload('ver2')">Download</a>
            <div class="download-count" id="count2">Loading downloads...</div>

            <p>0.0.2</p>
            <a href="https://drive.google.com/file/d/1_Nu04uRp3QKA32ANJpcc1EALG0tgv52J/view?usp=sharing" class="download-btn" onclick="trackDownload('ver3')">Download</a>
            <div class="download-count" id="count3">Loading downloads...</div>
        </div>
    </main>

    <footer>
        <p>The Nano OS Kernel</p>
        <p>Все права защищены ©2025</p>
    </footer>

    <script>
        // Firebase configuration (replace with your own)
        const firebaseConfig = {
            apiKey: "AIzaSyCu5jtb_u7H13Fl0OzGjp68jrBoUwIhfgI",
            authDomain: "nano-e1f63.firebaseapp.com",
            databaseURL: "https://nano-e1f63-default-rtdb.firebaseio.com",
            projectId: "nano-e1f63",
            storageBucket: "nano-e1f63.firebasestorage.app",
            messagingSenderId: "904182892074",
            appId: "1:904182892074:web:baed54b3dc97b1e7c16553"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Function to show documentation
        function showDocs() {
            const docsContent = document.getElementById('docs-content');
            docsContent.style.display = docsContent.style.display === 'block' ? 'none' : 'block';
            return false; // Prevent default anchor behavior
        }

        // Load download counts from Firebase
        function loadDownloadCounts() {
            const versions = ['ver1', 'ver2', 'ver3'];
            
            versions.forEach(version => {
                database.ref('downloadCounts/' + version).on('value', (snapshot) => {
                    const count = snapshot.val() || 0;
                    document.getElementById(`count${version.slice(-1)}`).textContent = `${count} downloads`;
                });
            });
        }

        // Track a download and update Firebase
        function trackDownload(version) {
            const ref = database.ref('downloadCounts/' + version);
            
            ref.transaction((currentCount) => {
                return (currentCount || 0) + 1;
            });

            // The download will proceed normally after this function runs
        }

        // Load counts when the page loads
        window.onload = loadDownloadCounts;
    </script>
</body>
</html>
